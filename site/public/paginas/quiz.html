<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../index.css">
    <link rel="stylesheet" href="../style/quiz.css">
    <title>Descubra seu estilo pessoal</title>
</head>
<body>

  <div class="header">
    <div class="container">
   <a href="../paginas/index - Copia.html"><h1 class="titulo">Vitrine Fashion</h1></a> 
    <ul class="navbar">
        <li> <a href="../paginas/index - Copia.html">Home</a></li>
        <li><a href="graficos.htm">Gráficos</a></li>
        <li><a href="./paginas/login.html"><img src="../imgs/home/usuario.png" alt=""></a></li>
        
    </ul>
    </div>
</div>

 <div class="inicio">
  <h1>Olá, <span id="usuario">usuário</span>! Bem Vinda ao Vitrine Fashion.</h1>
  <!-- <h4>Descubra o poder de se expressar através da moda e desvende o enigma do seu estilo único. Apenas um quiz separa você de um guarda-roupa que reflete verdadeiramente quem você é. Aceita o desafio?
  </h4> -->
  
</div>
  <img src="../imgs/not-quiz/f.png" alt="">
  <form>
    <ol>
      <li class="pergunta">
        <p>1 - Qual é a sua peça de roupa favorita?:</p>
        <input type="radio" name="pergunta1" value="a"> Jeans e Camiseta<br>
        <input type="radio" name="pergunta1" value="b"> Vestido e Saias<br>
        <input type="radio" name="pergunta1" value="c"> Terno<br>
      </li>
      <li class="pergunta">
        <p>2 - Qual é a sua cor favorita para roupas?:</p>
        <input type="radio" name="pergunta2" value="a"> Tons neutros como preto, branco e cinza<br>
        <input type="radio" name="pergunta2" value="b"> Cores suaves e pastéis<br>
        <input type="radio" name="pergunta2" value="c"> Cores vibrantes e chamativas<br>
      </li>
      <li class="pergunta">
        <p>3 - Como você gosta de se vestir para ocasiões especiais?:</p>
        <input type="radio" name="pergunta3" value="a"> Opto por um visual mais descontraído e informal<br>
        <input type="radio" name="pergunta3" value="b"> Busco por um look sofisticado e elegante<br>
        <input type="radio" name="pergunta3" value="c">  Procuro por peças únicas e diferentes que chamem a atenção<br>
      </li>
      <li class="pergunta">
        <p>4 - Quais são os acessórios que você mais usa?:</p>
        <input type="radio" name="pergunta4" value="a"> Chapéus, bonés e óculos de sol<br>
        <input type="radio" name="pergunta4" value="b"> Bolsas elegantes e joias delicadas<br>
        <input type="radio" name="pergunta4" value="c"> Lenços, colares statement e brincos grandes<br>
      </li>
      <li class="pergunta">
        <p>5 - Como você gosta de combinar estampas?:</p>
        <input type="radio" name="pergunta5" value="a"> Prefiro looks mais neutros e sem muitas estampas<br>
        <input type="radio" name="pergunta5" value="b"> Gosto de combinar estampas suaves e delicadas<br>
        <input type="radio" name="pergunta5" value="c">  Adoro misturar estampas ousadas<br>
        <input type="radio" name="pergunta5" value="d"> Gosto de usar All-Black<br>
      </li>
      
      
    </ol>
  </form>
   
  <button onclick="calcularEstilo()">Calcular</button>
  
  <div id="resultado"></div>
</body>
</html>
<script>
   usuario.innerHTML = sessionStorage.NOME_USUARIO;
   
  function calcularEstilo() {
    var perguntas = document.querySelectorAll('.pergunta');
    var respostas = [];
    
    var i = 0;
    while (i < perguntas.length) {
      var resposta = perguntas[i].querySelector('input[type="radio"]:checked');
      
      if (!resposta) {
        alert('Por favor, responda todas as perguntas.');
        return;
      }
      
      respostas.push(resposta.value);
      i++;
    }
    
    var estiloPessoal = calcularResultado(respostas);
    
    var resultado = document.getElementById('resultado');
    resultado.innerHTML = 'Seu estilo pessoal é: ' + estiloPessoal.toUpperCase();
  }
  
  function calcularResultado(respostas) {
  
    if (respostas[0] === 'b' && respostas[2] === 'c' && respostas[4] === 'c' && respostas[1] === 'c') {
      return 'Estilo Sexy';
    } else if (respostas[0] === 'a' && respostas[1] === 'a' && respostas[4] === 'a' || 
               respostas[0] === 'a' && respostas[1] === 'b' && respostas[4] === 'a') {
      return 'Estilo Casual';
    } else if (respostas[0] === 'c' && respostas[1] === 'a' && respostas[3] === 'b' && respostas[4] === 'd' ||
               respostas[0] === 'c' && respostas[1] === 'a' && respostas[2] === 'c' && respostas[3] === 'b' && respostas[4] === 'a') {
      return 'Estilo Clássico';
    } else if (respostas[0] === 'b' && respostas[1] === 'a' && respostas[4] === 'd') {
      return 'Estilo Dramático Urbano'
    } else if (respostas[1] === 'b' && respostas[3] === 'b' && respostas[4] === 'b') {
      return 'Estilo Romântico'
    } else if (respostas[0] === 'b' && respostas[1] === 'b' && respostas[2] === 'b' && respostas[3] === 'b') {
      return 'Estilo Elegante'
    } else if (respostas[1] === 'c' && respostas[3] === 'c' && respostas[4] === 'c') {
      return 'Estilo Criativo'
    }

  return estilo;
  
    fetch("/usuarios/cadastrarEstilo", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            // crie um atributo que recebe o valor recuperado aqui
            // Agora vá para o arquivo routes/usuario.js
            idUsuario:  sessionStorage.ID_USUARIO,
            estilo: estiloPessoal
          })
        })
        .then(function (resposta) {
      
          if (resposta.ok) {
            console.log("resposta: ", resposta);
      
          } else {
            throw ("Houve um erro ao tentar realizar o cadastro!");
          }
        }).catch(function (resposta) {
          console.log(`#ERRO: ${resposta}`);
      
        });
      
        return false;
  
}


</script>